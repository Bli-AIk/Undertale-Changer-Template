# 更新日志

本文档所写的是UCT的更新日志，这通常是短期的计划与安排。

關於UCT的長期更新計畫，請查閱[PLAN.md](PLAN.md)、[PLAN_zh-CN.md](PLAN_zh-CN.md)或[PLAN_zh-TW.md](PLAN_zh-TW.md)。

關於UCT的具體更新日志，請查閱[CHANGELOG.md](CHANGELOG.md)、[CHANGELOG_zh-CN.md](CHANGELOG_zh-CN.md)或[CHANGELOG_zh-TW.md](CHANGELOG_zh-TW.md)。

**簡體中文**的更新計畫/更新日誌**優先更新**，其他語言會在**版本號變更**時使用GPT進行翻譯。

## 關於版本號變更

UTR 的版本號格式為：

<p style="text-align: center;"><strong>v1.X.X(f(n))(- partN(a))</strong></p>

其具體含義如下：

1. **主版本號（1）** 
   - 這可能永遠也不會變。

2. **中版本號（X）** 
   - 在完成長期更新計畫中的一類時變更。

3. **小版本號（X）** 
   - 在完成一次階段性更新後變更。

4. **f(n)** 
   - 表示更新日誌中列出的計畫發生了變更。
     - 第一次變更標記為 `f`，後續變更為 `f(n-1)`（如 `f1` 表示第二次變更）。
   - 變更的計畫會暫列入 **[後續版本待定更新](#後續版本待定更新)**。

5. **- partN(a)** 
   - 表示階段性更新中具體的進展，具體的更新項就寫在本文檔內。
     - `partN`：階段內第 N 項更新完成。
     - `partN(a)`：第 N 項更新的第 a 次小更新完成。

## v1.0.5 -> v1.0.6 OW事件系統

- [ ] 添加可視化場景切換窗口
- [ ] 添加其他觸發事件的情況：角色狀態觸發、對話觸發、獲得/失去物品觸發、進入/結束戰鬥觸發
- [x] 讓Overworld場景在加載時檢測並補全語言包和事件系統文件
- [x] 給遺跡示例場景添加可運行的謎題（拉拉桿開門）
- [ ] 添加事件系統示例帶謎題場景四則：
- [x] Ruins樹葉迷宮房間
- [ ] 雪町滑冰解密房間
- [ ] 瀑布四花連線房間
- [ ] 熱域蒸汽跳躍房間
- [ ] 讓OW事件系統告一段落吧。該結束了。

2024/12/16 計畫 (1)

2024/12/25 計畫 (2)

2025/2/8 計畫 (3)

2025/2/3 計畫 (4-10)

## v1.0.4 -> v1.0.5f Overworld初步重構

- [x] 添加一個“歡迎使用UCT”編輯器窗口
- [x] 加入FSM系統
- [x] 加入事件系統的Fact、Rule、Entry結構體
- [x] 為Fact、Rule、Entry結構體列表重寫檢查器視圖
- [x] 重做OverworldObjTrigger
- [x] 為TypeWritter添加檢查器界面

2024/12/12 計畫 (6)

2024/12/15 計畫 (1)

2024/12/22 計畫 (2-5)

2025/2/3 完成

## v1.0.3 -> v1.0.4 UI顯示修復與命名場景拓展

- [x] 將OW場景中的框UI軸點均改為正中。
- [x] 將主攝像機放置在DontDestroyOnLoad，由MainControlSummon生成。（類似於MainControl、BGMControl的生成方式）
- [x] 對 Rename場景 的UI位置、大小進行檢查和修復。
- [x] 對 Menu場景 的UI位置、大小進行檢查和修復。
- [x] 對 PPT場景 與 Start場景 的UI位置、大小進行檢查和修復。
- [x] 對 OW場景 的UI位置、大小進行檢查和修復。
- [x] 對 Gameover場景 的UI位置、大小進行檢查和修復。
- [x] 對 Battle場景 的UI位置、大小進行檢查和修復。
- [x] 使用 \<indent\> 替換透明字符縮進。
- [x] 將英文字體進行調整，修復字符重合的問題。
- [x] 引進 [Fusion](https://github.com/TakWolf/fusion-pixel-font) 8px 字體。
- [x] 將起名界面的字符數量拓展，分為基本字母、數字與符號、拉丁字母、西里爾字母、希臘字母等。
- [x] 引入中日韩语言拼写库。
- [x] 在起名界面加入中文輸入支持。
- [x] 在起名界面加入日文輸入支持。
- [x] 在起名界面加入韓文輸入支持。
- [x] 將[PLAN.md](PLAN.md)與[CHANGELOG.md](CHANGELOG.md)通過Github Actions與ChatGPT API進行自動翻譯。
- [x] 合併此版本至Main。

2024/11/4 計畫 (1-2)

2024/11/6 計畫 (3-9)

2024/11/7 計畫 (10-16)

2024/11/11 計畫 (17)

2024/11/12 計畫 (18)

2024/11/19 完成

## v1.0.2 -> v1.0.3 BUG修復

- [x] 修復Battle場景中執行Fight後敵人對話卡死的問題。
- [x] 修復Battle場景中使用item後遊戲/編輯器崩潰的問題。
- [x] 修復Battle場景中在ButtonLayer打字機輸入未完畢時使用item後打字機顯示仍為ButtonLayer文本的問題。
- [x] 修復OW場景中仍然使用廢棄框UI的問題。
- [x] 修復打字機無法識別\<X\>富文本的問題。
- [x] 增加新的富文本\<JumpText\>用於跳過打字機輸入大段文本。

2024/11/4 計畫 (1-2, 4-5)

2024/11/5 計畫 (3, 6)

2024/11/6 完成

附：OW場景UI修復目前僅在長廊場景有效，將在v1.0.4修復。

## v1.0.2 - 前言

首先我犯了一個大錯——UCT自更新至v1.0.2至今，已經經過了非常多的更新，但是它的版本號仍然停留在v1.0.2。這是長期以來忽視更新日誌所帶來的結果。

事實上，當初將UCT的版本更新至v1.0.0，在某種意義上是錯誤的——那時我認為我的模板已經製作完畢，但現在看來仍然差得多。但不管怎樣，版本號再改回去會更麻煩。所以，先這樣吧。

在v1.0.2的最後一個更新裡，我新增了這個文件——**CHANGELOG.md**，作為更新日誌記錄每次更新的內容和下次更新的計畫。

版本號更新會依據這個規則：

1. 當**PATCH**更新時(1.0.X之中的**X**)，通常意味著這次更新是bug修復或原有功能修改/重構，而沒有增加新的功能或內容。
2. 當**MINOR**更新時(1.X.0之中的**X**)，通常意味著這次更新添加了新的功能或內容。
3. 當**MAJOR**更新時(X.0.0之中的**X**)，通常意味著…… <small>*好吧，我估計MAJOR永遠都不會修改。*</small>
4. 在更新到下一個版本之前時，版本號後會加上後綴 -part X。X為完成的任務項的項數。

更新的格式如下：

#### vX.X.0 -> vX.X.1 更新內容概述

- [x] 任務1（已完成）
- [x] 任務2（已完成）

XX年/XX月/XX日 計畫

XX年/XX月/XX日 完成

#### vX.X.1 -> vX.X.2 更新內容概述

- [ ] 任務1（未完成）
- [ ] 任務2（未完成）

XX年/XX月/XX日 計畫 (x-x項數)

XX年/XX月/XX日 完成

完成的時間即最後一項完成的時間，以上。

2024/11/4 計畫

2024/11/4 完成

## 後續版本待定更新

### UI優化與拓展
（原計畫：v1.0.5 -> v1.0.6）

- [ ] 添加放大化640x480。（詳見更新計畫）
- [ ] 分離MENU場景的繪製邏輯與執行邏輯。
- [ ] 分離OW存檔頁面的繪製邏輯與執行邏輯。
- [ ] 將現有的UI數據存儲至ScriptableObject。
- [ ] 增加UI管理器。
- [ ] 增加Dr風格的MENU界面。
- [ ] 增加Dr風格的設定界面。
- [ ] 添加Dr風格的OW存檔界面。
- [ ] 添加遊戲內控制台。
- [ ] 合併此版本至Main。

2024/11/12 計畫 (1-8, 10)

2024/11/29 計畫 (9)

### 設定頁面重構與拓展
（原計畫：v1.0.4 -> v1.0.5）

- [ ] 分離設定頁面的繪製邏輯與執行邏輯。

- [x] 細化設定項：視頻設定、音頻設定、輸入設定。

- [ ] 添加文本設定：歷史文本。

- [ ] 添加文本設定：打字速度。

- [ ] 添加文本設定：CC字幕。

- [ ] 添加成就系統。

- [ ] 添加自動佈局的成就頁面。

- [ ] 添加成就設定。

- [ ] 拓展語言設定：強制unicode、強制全角。

- [ ] 添加無障礙設定：講述人、色盲模式。

2024/11/4 計畫 (1-2)

2024/11/29 計畫 (3-8)