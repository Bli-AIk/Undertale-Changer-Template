# CHANGELOG 更新日志

本文档所写的是UCT的更新日志，这通常是短期的计划与安排。

关于UCT的长期更新计划，请查阅[PLAN.md](PLAN.md)、[PLAN_zh-CN.md](PLAN_zh-CN.md)或[PLAN_zh-TW.md](PLAN_zh-TW.md)。

关于UCT的具体更新日志，请查阅[CHANGELOG.md](CHANGELOG.md)、[CHANGELOG_zh-CN.md](CHANGELOG_zh-CN.md)或[CHANGELOG_zh-TW.md](CHANGELOG_zh-TW.md)。

**简体中文**的更新计划/更新日志**优先更新**，其他语言会在**版本号变更**时使用GPT进行翻译。

## 关于版本号变更

UTR 的版本号格式为：

<p style="text-align: center;"><strong>v1.X.X(f(n))(- partN(a))</strong></p>

其具体含义如下：

1. **主版本号（1）** 
   - 这可能永远也不会变。

2. **中版本号（X）** 
   - 在完成长期更新计划中的一类时变更。

3. **小版本号（X）** 
   - 在完成一次阶段性更新后变更。

4. **f(n)** 
   - 表示更新日志中列出的计划发生了变更。 
     - 第一次变更标记为 `f`，后续变更为 `f(n-1)`（如 `f1` 表示第二次变更）。
   - 变更的计划会暂列入 **[后续版本待定更新](#后续版本待定更新)**。

5. **- partN(a)** 
   - 表示阶段性更新中具体的进展，具体的更新项就写在本文档内。 
     - `partN`：阶段内第 N 项更新完成。 
     - `partN(a)`：第 N 项更新的第 a 次小更新完成

##  v1.0.6 -> v1.0.7 大规模重构

- [x] 依据 **[Codacy](https://app.codacy.com/gh/Bli-AIk/Undertale-Changer-Template/)** 的代码质量分析进行大规模重构。

- [x] 切分战斗回合和怪物回合

- [x] 引入多战斗

- [x] 补全mercy选项

- [x] 切分战斗内怪物对话

- [ ] 定义怪物重叠回合

- [ ] 修复投影框

- [ ] 修复遮罩shader

- [ ] 修复魂心

- [ ] 接入手柄控制

- [ ] 添加追逐战

- [ ] 为OW的更新内容撰写markdown文档并筹备视频宣发

- [ ] 将事件系统数据存档

- [ ] 合并至 **main** 分支

2025/2/16 计划 (13)

2025/2/17 计划 (12)

2025/2/18 计划 (1, 14)

2025/3/3 计划 (2)

2025/3/10 计划 (3-11)

##  v1.0.5 -> v1.0.6 OW事件系统

- [x] 让Overworld场景在加载时检测并补全语言包和事件系统文件
- [x] 给遗迹示例场景添加可运行的谜题（拉拉杆开门）
- [x] Ruins树叶迷宫房间
- [x] 接入ink语言读取与json检测转换
- [x] 允许OW对话插入原作日文物品选择式选项分支
- [x] 把人物的表情和声音预设为一些富文本标签

2025/2/8 计划 (1)

2025/2/3 计划 (2-3)

2025/2/16 计划 (3-6)

## v1.0.4 -> v1.0.5f Overworld初步重构

- [x] 添加一个“欢迎使用UCT”编辑器窗口
- [x] 加入FSM系统
- [x] 加入事件系统的Fact、Rule、Entry结构体
- [x] 为Fact、Rule、Entry结构体列表重写检查器视图
- [x] 重做OverworldObjTrigger
- [x] 为TypeWritter添加检查器界面

2024/12/12 计划 (6)

2024/12/15 计划 (1)

2024/12/22 计划 (2-5)

2025/2/3 完成



## v1.0.3 -> v1.0.4 UI显示修复与命名场景拓展

- [x] 将OW场景中的框UI轴点均改为正中。
- [x] 将主摄像机放置在DontDestroyOnLoad，由MainControlSummon生成。（类似于MainControl、BGMControl的生成方式）
- [x] 对 Rename场景 的UI位置、大小进行检查和修复。
- [x] 对 Menu场景 的UI位置、大小进行检查和修复。
- [x] 对 PPT场景 与 Start场景 的UI位置、大小进行检查和修复。
- [x] 对 OW场景 的UI位置、大小进行检查和修复。
- [x] 对 Gameover场景 的UI位置、大小进行检查和修复。
- [x] 对 Battle场景 的UI位置、大小进行检查和修复。
- [x] 使用 \<indent\> 替换透明字符缩进。
- [x] 将英文字体进行调整，修复字符重合的问题。
- [x] 引进 [Fusion](https://github.com/TakWolf/fusion-pixel-font) 8px 字体。
- [x] 将起名界面的字符数量拓展，分为基本字母、数字与符号、拉丁字母、西里尔字母、希腊字母等。
- [x] 引入中日韩语言拼写库。
- [x] 在起名界面加入中文输入支持。
- [x] 在起名界面加入日文输入支持。
- [x] 在起名界面加入韩文输入支持。
- [x] 将[PLAN.md](PLAN.md)与[CHANGELOG.md](CHANGELOG.md)通过Github Actions与ChatGPT API进行自动翻译。
- [x] 合并此版本至Main。

2024/11/4 计划 (1-2)

2024/11/6 计划 (3-9)

2024/11/7 计划 (10-16)

2024/11/11 计划 (17)

2024/11/12 计划 (18)

2024/11/19 完成


## v1.0.2 -> v1.0.3 BUG修复

- [x] 修复Battle场景中执行Fight后敌人对话卡死的问题。
- [x] 修复Battle场景中使用item后游戏/编辑器崩溃的问题。
- [x] 修复Battle场景中在ButtonLayer打字机输入未完毕时使用item后打字机显示仍为ButtonLayer文本的问题。
- [x] 修复OW场景中仍然使用废弃框UI的问题。
- [x] 修复打字机无法识别\<X\>富文本的问题。
- [x] 增加新的富文本\<JumpText\>用于跳过打字机输入大段文本。

2024/11/4 计划 (1-2, 4-5)

2024/11/5 计划 (3, 6)

2024/11/6 完成

附：OW场景UI修复目前仅在长廊场景有效，将在v1.0.4修复。

## v1.0.2 - 前言

首先我犯了一个大错——UCT自更新至v1.0.2至今，已经经过了非常多的更新，但是它的版本号仍然停留在v1.0.2。这是长期以来忽视更新日志所带来的结果。

事实上，当初将UCT的版本更新至v1.0.0，在某种意义上是错误的——那时我认为我的模板已经制作完毕，但现在看来仍然差得多。但不管怎样，版本号再改回去会更麻烦。所以，先这样吧。

在v1.0.2的最后一个更新里，我新增了这个文件——**CHANGELOG.md**，作为更新日志记录每次更新的内容和下次更新的计划。

版本号更新会依据这个规则：

1. 当**PATCH**更新时(1.0.X之中的**X**)，通常意味着这次更新是bug修复或原有功能修改/重构，而没有增加新的功能或内容。
2. 当**MINOR**更新时(1.X.0之中的**X**)，通常意味着这次更新添加了新的功能或内容。
3. 当**MAJOR**更新时(X.0.0之中的**X**)，通常意味着…… <small>*好吧，我估计MAJOR永远都不会修改。*</small>
4. 在更新到下一个版本之前时，版本号后会加上后缀 -part X。X为完成的任务项的项数。

更新的格式如下：

#### vX.X.0 -> vX.X.1 更新内容概述

- [x] 任务1（已完成）
- [x] 任务2（已完成）

XX年/XX月/XX日 计划

XX年/XX月/XX日 完成

#### vX.X.1 -> vX.X.2 更新内容概述

- [ ] 任务1（未完成）
- [ ] 任务2（未完成）

XX年/XX月/XX日 计划 (x-x项数)

XX年/XX月/XX日 完成

完成的时间即最后一项完成的时间，以上。

2024/11/4 计划

2024/11/4 完成


## 后续版本待定更新

### UI优化与拓展 
（原计划：v1.0.5 -> v1.0.6） 

- [ ] 添加放大化640x480。（详见更新计划） 
- [ ] 分离MENU场景的绘制逻辑与执行逻辑。 
- [ ] 分离OW存档页面的绘制逻辑与执行逻辑。 
- [ ] 将现有的UI数据存储至ScriptableObject。 
- [ ] 增加UI管理器。 
- [ ] 增加Dr风格的MENU界面。 
- [ ] 增加Dr风格的设置界面。 
- [ ] 添加Dr风格的OW存档界面。 
- [ ] 添加游戏内控制台。 
- [ ] 合并此版本至Main。 

2024/11/12 计划 (1-8, 10) 

2024/11/29 计划 (9) 


### 设置页面重构与拓展 
（原计划：v1.0.4 -> v1.0.5） 

- [ ] 分离设置页面的绘制逻辑与执行逻辑。 

- [x] 细化设置项：视频设置、音频设置、输入设置。 

- [ ] 添加文本设置：历史文本。

- [ ] 添加文本设置：打字速度。

- [ ] 添加文本设置：CC字幕。 

- [ ] 添加成就系统。

- [ ] 添加自动布局的成就页面。

- [ ] 添加成就设置。 

- [ ] 拓展语言设置：强制unicode、强制全角。 

- [ ] 添加无障碍设置：讲述人、色盲模式。 

2024/11/4 计划 (1-2) 

2024/11/29 计划 (3-8) 

###  v1.0.5 -> v1.0.6 OW事件系统

- [ ] 添加可视化场景切换窗口
- [ ] 添加其他触发事件的情况：角色状态触发、对话触发、获得/失去物品触发、进入/结束战斗触发
- [ ] 雪町滑冰解密房间
- [ ] 瀑布四花连线房间
- [ ] 热域蒸汽跳跃房间

2024/12/16 计划 (1)

2024/12/25 计划 (2)

2025/2/3 计划 (3-5)
